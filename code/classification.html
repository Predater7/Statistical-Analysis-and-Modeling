<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>分类模型 - 城市功能区识别</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', 'SimHei', Arial, sans-serif;
            background: linear-gradient(135deg, #4A90E2 0%, #5B9BD5 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #4A90E2 0%, #5B9BD5 100%);
            color: white;
            padding: 30px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        header h1 {
            font-size: 2em;
        }
        
        .back-btn {
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            border: 2px solid white;
            border-radius: 25px;
            transition: background 0.3s;
        }
        
        .back-btn:hover {
            background: rgba(255,255,255,0.2);
        }
        
        .content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 50px;
        }
        
        .section h2 {
            font-size: 1.8em;
            color: #4A90E2;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #4A90E2;
        }
        
        .section p {
            line-height: 1.8;
            color: #666;
            margin-bottom: 15px;
        }
        
        .images-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .image-item {
            background: #f5f7fa;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .image-item img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .image-item p {
            padding: 15px;
            text-align: center;
            color: #333;
            font-weight: bold;
        }
        
        .predictor {
            background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%);
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
        }
        
        .predictor h3 {
            font-size: 1.5em;
            color: #4A90E2;
            margin-bottom: 20px;
        }
        
        .input-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .input-item {
            display: flex;
            flex-direction: column;
        }
        
        .input-item label {
            margin-bottom: 8px;
            color: #333;
            font-weight: bold;
        }
        
        .input-item input {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
        }
        
        .input-item input:focus {
            outline: none;
            border-color: #4A90E2;
        }
        
        .predict-btn {
            padding: 15px 40px;
            background: linear-gradient(135deg, #4A90E2 0%, #5B9BD5 100%);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s;
            margin-top: 20px;
        }
        
        .predict-btn:hover {
            transform: scale(1.05);
        }
        
        .result {
            margin-top: 30px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            display: none;
        }
        
        .result.show {
            display: block;
        }
        
        .result h4 {
            font-size: 1.3em;
            color: #4A90E2;
            margin-bottom: 15px;
        }
        
        .result-item {
            padding: 10px;
            margin: 10px 0;
            background: #f5f7fa;
            border-radius: 5px;
        }
        
        .result-item strong {
            color: #333;
        }
        
        .prediction-badge {
            display: inline-block;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 1.2em;
            margin-top: 10px;
        }
        
        .badge-industrial {
            background: #e74c3c;
            color: white;
        }
        
        .badge-residential {
            background: #3498db;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>分类模型 - 城市功能区识别</h1>
            <a href="index.html" class="back-btn">返回首页</a>
        </header>
        
        <div class="content">
            <div class="section">
                <h2>项目简介</h2>
                <p>
                    本研究基于空气质量监测数据集，采用监督学习方法构建分类模型，用于识别城市功能区类型。
                    通过分析不同污染物浓度特征，模型能够准确区分工业区（Industrial）和居住区（Residential）。
                </p>
                <p>
                    <strong>模型性能：</strong>逻辑回归模型准确率达到97.43%，AUC值为0.9965，表现出色。
                </p>
            </div>
            
            <div class="section">
                <h2>关键发现</h2>
                <ul style="line-height: 2; color: #666; margin-left: 20px;">
                    <li><strong>工业区特征：</strong>SO₂和PM10是识别工业区的最强信号</li>
                    <li><strong>居住区特征：</strong>NO₂是居住区的主要标识物，反映机动车交通流排放</li>
                    <li><strong>模型优势：</strong>逻辑回归通过权重调整有效处理了变量间的线性关系</li>
                </ul>
            </div>
            
            <div class="section">
                <h2>数据可视化</h2>
                <div class="images-grid">
                    <div class="image-item">
                        <img src="../分类模型/文档/image.png" alt="城市类型分布">
                        <p>城市类型分布</p>
                    </div>
                    <div class="image-item">
                        <img src="../分类模型/文档/image-1.png" alt="污染物分布箱线图">
                        <p>污染物分布箱线图</p>
                    </div>
                    <div class="image-item">
                        <img src="../分类模型/文档/image-2.png" alt="污染物相关性热力图">
                        <p>污染物相关性热力图</p>
                    </div>
                    <div class="image-item">
                        <img src="../分类模型/文档/image-4.png" alt="逻辑回归模型结果">
                        <p>逻辑回归模型结果</p>
                    </div>
                    <div class="image-item">
                        <img src="../分类模型/文档/image-5.png" alt="朴素贝叶斯模型结果">
                        <p>朴素贝叶斯模型结果</p>
                    </div>
                    <div class="image-item">
                        <img src="../分类模型/文档/image-6.png" alt="逻辑回归系数表">
                        <p>逻辑回归系数表</p>
                    </div>
                    <div class="image-item">
                        <img src="../分类模型/文档/image-7.png" alt="消融实验结果">
                        <p>消融实验结果</p>
                    </div>
                    <div class="image-item">
                        <img src="../分类模型/文档/image-9.png" alt="ROC曲线">
                        <p>ROC曲线</p>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <div class="predictor">
                    <h3>功能区类型预测</h3>
                    <p style="margin-bottom: 20px; color: #666;">
                        输入空气质量指标，系统将预测该监测点属于工业区还是居住区
                    </p>
                    
                    <div class="input-group">
                        <div class="input-item">
                            <label>CO (一氧化碳) μg/m³</label>
                            <input type="number" id="co" placeholder="例如: 1.5" step="0.1">
                        </div>
                        <div class="input-item">
                            <label>NO₂ (二氧化氮) μg/m³</label>
                            <input type="number" id="no2" placeholder="例如: 50" step="0.1">
                        </div>
                        <div class="input-item">
                            <label>SO₂ (二氧化硫) μg/m³</label>
                            <input type="number" id="so2" placeholder="例如: 20" step="0.1">
                        </div>
                        <div class="input-item">
                            <label>O₃ (臭氧) μg/m³</label>
                            <input type="number" id="o3" placeholder="例如: 80" step="0.1">
                        </div>
                        <div class="input-item">
                            <label>PM2.5 (细颗粒物) μg/m³</label>
                            <input type="number" id="pm25" placeholder="例如: 60" step="0.1">
                        </div>
                        <div class="input-item">
                            <label>PM10 (可吸入颗粒物) μg/m³</label>
                            <input type="number" id="pm10" placeholder="例如: 100" step="0.1">
                        </div>
                    </div>
                    
                    <button class="predict-btn" onclick="predictClassification()">开始预测</button>
                    
                    <div id="result" class="result">
                        <h4>预测结果</h4>
                        <div class="result-item">
                            <strong>预测类型：</strong>
                            <span id="prediction-type" class="prediction-badge"></span>
                        </div>
                        <div class="result-item">
                            <strong>预测概率：</strong>
                            <span id="prediction-prob"></span>
                        </div>
                        <div class="result-item">
                            <strong>模型置信度：</strong>
                            <span id="confidence"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // 逻辑回归模型系数（基于文档中的系数）
        // 事件=Residential，基准=Industrial
        const coefficients = {
            intercept: 3.3425355,
            CO: 0.0066222,
            NO2: 0.1387993,
            SO2: -0.6716674,
            O3: 0.0107039,
            PM25: 0.0102503,  // 不显著，但仍包含
            PM10: -0.0807898
        };
        
        function predictClassification() {
            // 获取输入值
            const co = parseFloat(document.getElementById('co').value) || 0;
            const no2 = parseFloat(document.getElementById('no2').value) || 0;
            const so2 = parseFloat(document.getElementById('so2').value) || 0;
            const o3 = parseFloat(document.getElementById('o3').value) || 0;
            const pm25 = parseFloat(document.getElementById('pm25').value) || 0;
            const pm10 = parseFloat(document.getElementById('pm10').value) || 0;
            
            // 计算log-odds
            const logOdds = coefficients.intercept +
                          coefficients.CO * co +
                          coefficients.NO2 * no2 +
                          coefficients.SO2 * so2 +
                          coefficients.O3 * o3 +
                          coefficients.PM25 * pm25 +
                          coefficients.PM10 * pm10;
            
            // 转换为概率（sigmoid函数）
            const probResidential = 1 / (1 + Math.exp(-logOdds));
            const probIndustrial = 1 - probResidential;
            
            // 确定预测类型
            const predictedType = probResidential >= 0.5 ? 'Residential' : 'Industrial';
            const predictedProb = predictedType === 'Residential' ? probResidential : probIndustrial;
            
            // 显示结果
            const resultDiv = document.getElementById('result');
            const typeSpan = document.getElementById('prediction-type');
            const probSpan = document.getElementById('prediction-prob');
            const confSpan = document.getElementById('confidence');
            
            typeSpan.textContent = predictedType === 'Residential' ? '居住区' : '工业区';
            typeSpan.className = 'prediction-badge ' + 
                (predictedType === 'Residential' ? 'badge-residential' : 'badge-industrial');
            
            probSpan.textContent = (predictedProb * 100).toFixed(2) + '%';
            confSpan.textContent = predictedProb > 0.8 ? '高' : predictedProb > 0.6 ? '中' : '低';
            
            resultDiv.classList.add('show');
        }
    </script>
</body>
</html>

